<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>成都3天2晚线路选择（低享受条件）</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #ffffff;
      color: #222;
    }
    header {
      padding: 16px 20px;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
    }
    .top-info {
      font-size: 12px;
      text-align: right;
      color: #666;
    }
    #timeInfo {
    color: red;
    }
    .top-info div {
      margin-bottom: 2px;
    }
    main {
      max-width: 720px;
      margin: 20px auto 40px;
      padding: 0 16px;
    }
    .section {
      border: 1px solid #e0e0e0;
      padding: 12px 14px;
      margin-bottom: 12px;
      border-radius: 4px;
    }
    .section-title {
      font-weight: 600;
      margin-bottom: 6px;
      font-size: 14px;
    }
    .hint {
      font-size: 12px;
      color: #555;
      margin-bottom: 8px;
    }
.source-highlight {
  color: darkred;   /* 深红色 */
  font-weight: 600; /* 可选：稍微加粗 */
}
    .route-card {
      border: 1px solid #dddddd;
      border-radius: 4px;
      padding: 10px 12px;
    }
    .route-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .route-name {
      font-weight: 600;
      font-size: 14px;
    }
    .route-meta {
      font-size: 12px;
      color: #555;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 4px;
    }
    .route-details {
      font-size: 12px;
      color: #444;
      line-height: 1.5;
      margin-top: 4px;
    }
    .select-row {
      margin-top: 8px;
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .pagination {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
    }
    .btn {
      border: 1px solid #b0b0b0;
      background: #f5f5f5;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      border-radius: 3px;
    }
    .btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }
    .btn-primary {
      border-color: #666;
      background: #e0e0e0;
    }
    .status {
      font-size: 12px;
      color: #555;
      margin-top: 8px;
    }

  </style>
</head>
<body>
<header>
  <h1>成都 3 天 2 晚线路选择</h1>
  <div class="top-info">
    <div id="stepInfo">步骤 1 / 2</div>
    <div id="timeInfo">已用时：00:00</div>
  </div>
</header>

<main>
  <!-- 第 1 页：说明 + 信息来源 -->
  <div id="page1">
    <!-- 1. 说明（中性） -->
    <section class="section">
      <div class="section-title">说明</div>
      <p class="hint">
        您正在使用生成式AI辅助您计划到成都 3 天 2 晚旅游的线路，AI根据输入的指令推荐了4 条线路，点击下一步将展示推荐的线路。
        请依次阅读并在最后做出选择。      
      </p>
    </section>

    <!-- 2. 信息来源 -->

<section class="section">
  <div class="section-title">信息来源</div>
  <p class="hint">
    <span class="source-highlight">游客评价推荐、权威旅游网站、成都市旅游协会。</span>
  </p>
</section>


    <!-- 下一页按钮 -->
    <section class="section">
      <p class="hint">请先阅读本页说明和信息来源，然后点击“下一页”进入AI推荐线路浏览和确认。</p>
      <button class="btn btn-primary" id="toPage2Btn">下一页</button>
    </section>
  </div>

  <!-- 第 2 页：浏览推荐线路 + 确认最终线路 + 开始回答问卷 -->
  <div id="page2" style="display:none;">
    <!-- 3. 线路浏览（一次只显示一条） -->
    <section class="section">
      <div class="section-title">浏览推荐线路</div>
      <p class="hint">请依次查看每一条线路后，点击“下一条”，直到浏览完所有 4 条。
      信息来源：<span class="source-highlight"> 信息来源：游客评价推荐、权威旅游网站、成都市旅游协会。</span>
      </p>

      <article class="route-card" id="routeCard">
        <div class="route-header">
          <div class="route-name" id="routeName">路线 A</div>
          <div style="font-size: 12px; color:#777;" id="routeOrder">第 1 条 / 共 4 条</div>
        </div>
        <div class="route-meta" id="routeMeta"></div>
        <div class="route-details" id="routeDetails"></div>
        <div class="select-row">
          <label>
            <input type="radio" name="route" id="routeSelect">
            我打算最后选择这条线路
          </label>
        </div>
      </article>

      <div class="pagination">
        <button class="btn" id="prevBtn">上一条</button>
        <span id="pageStatus">当前第 1 条 / 共 4 条</span>
        <button class="btn" id="nextBtn">下一条</button>
      </div>

      <div class="status" id="browseStatus">
        请从第 1 条开始，依次浏览完全部 4 条线路后再做最终选择。
      </div>
    </section>

    <!-- 4. 确认选择 -->
    <section class="section">
      <div class="section-title">确认最终线路</div>
      <p class="hint">
        在浏览完全部 4 条线路后，请从中选择 1 条你最可能在现实中会选的线路，然后点击“确认”。
      </p>
      <button class="btn btn-primary" id="confirmBtn" disabled>确认我的最终线路</button>
      <div class="status" id="finalStatus">
        （尚未确认）
      </div>
    </section>

    <!-- 5. 开始回答问卷按钮 -->
    <section class="section">
      <p class="hint">
        请在确认最终线路后，点击下方按钮进入问卷页面。
      </p>
      <button class="btn btn-primary" id="startSurveyBtn" disabled>开始回答问卷</button>
    </section>
  </div>
</main>

<script>
  // 计时器
  let seconds = 0;
  const timeInfo = document.getElementById('timeInfo');
  setInterval(() => {
    seconds++;
    const m = String(Math.floor(seconds / 60)).padStart(2,'0');
    const s = String(seconds % 60).padStart(2,'0');
    timeInfo.textContent = '已用时：' + m + ':' + s;
  }, 1000);

  const stepInfo = document.getElementById('stepInfo');

  // 页面切换元素
  const page1 = document.getElementById('page1');
  const page2 = document.getElementById('page2');
  const toPage2Btn = document.getElementById('toPage2Btn');

  toPage2Btn.addEventListener('click', () => {
    page1.style.display = 'none';
    page2.style.display = 'block';
    stepInfo.textContent = '步骤 2 / 2';
  });

  // 路线数据（内容与高享受页面完全一致）
  const routes = [
    {
      id: 'A',
      name: '路线 A · 经典城市+美食体验',
      meta: ['总价约：¥1800 / 人', '节奏：中等偏轻松', '餐饮：本地川菜为主', '步行强度：★★☆'],
      details: '<strong>Day 1：</strong>人民公园 • 宽窄巷子 • 锦里古街，自由闲逛+盖章打卡，晚餐安排本地火锅。<br/>' +
               '<strong>Day 2：</strong>都江堰景区一日游，中午在老街品尝小吃，傍晚返回城区休息。<br/>' +
               '<strong>Day 3：</strong>文殊院早茶体验 • 春熙路购物，自由返程。'
    },
    {
      id: 'B',
      name: '路线 B · 熊猫+自然风光',
      meta: ['总价约：¥1900 / 人', '节奏：略紧凑', '餐饮：川菜+当地小吃', '步行强度：★★★'],
      details: '<strong>Day 1：</strong>成都大熊猫繁育研究基地，上午观赏熊猫；下午前往太古里闲逛。<br/>' +
               '<strong>Day 2：</strong>青城山一日徒步，体验道教文化和山林清幽。<br/>' +
               '<strong>Day 3：</strong>宽窄巷子早午餐 • 市区休闲咖啡馆，下午返程。'
    },
    {
      id: 'C',
      name: '路线 C · 小众街区+咖啡漫步',
      meta: ['总价约：¥1750 / 人', '节奏：轻松', '餐饮：川味+融合创意餐', '步行强度：★★☆'],
      details: '<strong>Day 1：</strong>玉林路街区 • 小酒馆 • 创意市集，夜间漫步。<br/>' +
               '<strong>Day 2：</strong>东郊记忆文创园，下午在独立咖啡馆发呆写明信片。<br/>' +
               '<strong>Day 3：</strong>人民公园喝盖碗茶，体验本地人日常，随后返程。'
    },
    {
      id: 'D',
      name: '路线 D · 美食深度体验',
      meta: ['总价约：¥1850 / 人', '节奏：中等', '餐饮：美食比重高', '步行强度：★★☆'],
      details: '<strong>Day 1：</strong>春熙路小吃打卡 • 火锅店排队+夜宵串串。<br/>' +
               '<strong>Day 2：</strong>本地人推荐早茶+苍蝇馆子 • 下午甜品与咖啡时间。<br/>' +
               '<strong>Day 3：</strong>锦里/宽窄巷子再次回访喜欢的餐厅，午后返程。'
    }
  ];

  let currentIndex = 0;
  const routeName = document.getElementById('routeName');
  const routeOrder = document.getElementById('routeOrder');
  const routeMeta = document.getElementById('routeMeta');
  const routeDetails = document.getElementById('routeDetails');
  const pageStatus = document.getElementById('pageStatus');
  const browseStatus = document.getElementById('browseStatus');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const confirmBtn = document.getElementById('confirmBtn');
  const finalStatus = document.getElementById('finalStatus');
  const routeSelect = document.getElementById('routeSelect');
  const startSurveyBtn = document.getElementById('startSurveyBtn');

  let viewed = [false, false, false, false];
  let chosenRouteId = null;

  function renderRoute(index) {
    const r = routes[index];
    routeName.textContent = r.name;
    routeOrder.textContent = '第 ' + (index + 1) + ' 条 / 共 ' + routes.length + ' 条';
    routeMeta.innerHTML = '';
    r.meta.forEach(m => {
      const span = document.createElement('span');
      span.textContent = m;
      routeMeta.appendChild(span);
    });
    routeDetails.innerHTML = r.details;
    pageStatus.textContent = '当前第 ' + (index + 1) + ' 条 / 共 ' + routes.length + ' 条';
    routeSelect.checked = (chosenRouteId === r.id);
    viewed[index] = true;

    prevBtn.disabled = (index === 0);
    nextBtn.disabled = (index === routes.length - 1);

    const allViewed = viewed.every(v => v);
    if (allViewed) {
      browseStatus.textContent = '你已经浏览完全部 4 条线路，请选择 1 条作为最终行程，然后点击下方“确认”。';
    } else {
      browseStatus.textContent = '请依次浏览完全部 4 条线路后，再进行最终确认。';
    }
  }

  prevBtn.addEventListener('click', () => {
    if (currentIndex > 0) {
      currentIndex--;
      setTimeout(() => renderRoute(currentIndex), 700);
    }
  });

  nextBtn.addEventListener('click', () => {
    if (currentIndex < routes.length - 1) {
      currentIndex++;
      setTimeout(() => renderRoute(currentIndex), 700);
    }
  });

  routeSelect.addEventListener('change', () => {
    chosenRouteId = routes[currentIndex].id;
    const allViewed = viewed.every(v => v);
    if (allViewed && chosenRouteId) {
      confirmBtn.disabled = false;
    }
    finalStatus.textContent = '当前打算选择的线路：' + (chosenRouteId ? ('路线 ' + chosenRouteId) : '（未选择）');
  });

  confirmBtn.addEventListener('click', () => {
    if (!chosenRouteId) return;
    confirmBtn.disabled = true;
    finalStatus.textContent = '已确认最终线路：路线 ' + chosenRouteId + '。请点击下方“开始回答问卷”进入问卷页面。';
    startSurveyBtn.disabled = false;
    // 在这里可记录最终选择
  });

  startSurveyBtn.addEventListener('click', () => {
    window.location.href = 'https://v.wjx.cn/vm/wFMAdwO.aspx#';
  });

  // 初始化显示第一条（虽然在第 2 页，但提前准备数据）
  renderRoute(currentIndex);
</script>
</body>
</html>
